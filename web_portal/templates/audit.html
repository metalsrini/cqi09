{% extends "layout.html" %}

{% block extra_css %}
<style>
    .tab-content {
        min-height: 400px;
    }
    .requirement-row {
        border-bottom: 1px solid #e9ecef;
        padding: 15px 0;
    }
    .requirement-row:last-child {
        border-bottom: none;
    }
    .nav-tabs .nav-link {
        font-weight: 500;
    }
    .evidence-textarea {
        min-height: 80px;
    }
    .analysis-result {
        border-left: 4px solid #dee2e6;
        padding-left: 15px;
        margin-top: 10px;
    }
    .compliant {
        border-left-color: #198754;
    }
    .non-compliant {
        border-left-color: #dc3545;
    }
    .partial {
        border-left-color: #ffc107;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Hidden element to store audit data -->
    <div id="audit-data" style="display: none;" data-audit="{% if audit_data %}{{ audit_data|tojson|safe }}{% else %}{}{% endif %}"></div>
    
    <div class="row mb-4">
        <div class="col-12 d-flex justify-content-between align-items-center">
            <h1 class="h2">CQI-9 Audit</h1>
            <div>
                <button type="button" id="saveAuditBtn" class="btn btn-success me-2">
                    <i class="fas fa-save me-1"></i> Save Audit
                </button>
                <button type="button" id="generateReportBtn" class="btn btn-primary">
                    <i class="fas fa-file-pdf me-1"></i> Generate Report
                </button>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-body">
                    <!-- Tabs Navigation -->
                    <ul class="nav nav-tabs" id="auditTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="cover-tab" data-bs-toggle="tab" data-bs-target="#cover" type="button" role="tab" aria-controls="cover" aria-selected="true">
                                <i class="fas fa-file-alt me-1"></i> Cover Sheet
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="section1-tab" data-bs-toggle="tab" data-bs-target="#section1" type="button" role="tab" aria-controls="section1" aria-selected="false">
                                <i class="fas fa-tasks me-1"></i> Section 1 - Management Resp.
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="section2-tab" data-bs-toggle="tab" data-bs-target="#section2" type="button" role="tab" aria-controls="section2" aria-selected="false">
                                <i class="fas fa-industry me-1"></i> Section 2 - Shop Floor
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="section3-tab" data-bs-toggle="tab" data-bs-target="#section3" type="button" role="tab" aria-controls="section3" aria-selected="false">
                                <i class="fas fa-tools me-1"></i> Section 3 - Equipment
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="jobaudit-tab" data-bs-toggle="tab" data-bs-target="#jobaudit" type="button" role="tab" aria-controls="jobaudit" aria-selected="false">
                                <i class="fas fa-clipboard-check me-1"></i> Job Audit
                            </button>
                        </li>
                    </ul>
                    
                    <!-- Tab Content -->
                    <div class="tab-content pt-4" id="auditTabsContent">
                        <!-- Cover Sheet Tab -->
                        <div class="tab-pane fade show active" id="cover" role="tabpanel" aria-labelledby="cover-tab">
                            <h3 class="h4 mb-4">CQI-9 Assessment Cover Sheet</h3>
                            
                            <div class="row g-3">
                                <!-- Organization Information -->
                                <div class="col-12">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title mb-0">Organization Information</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-6">
                                                    <label for="supplierName" class="form-label">Supplier Name</label>
                                                    <input type="text" class="form-control" id="supplierName" name="supplier_name">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="supplierCode" class="form-label">Supplier Code</label>
                                                    <input type="text" class="form-control" id="supplierCode" name="supplier_code">
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="supplierAddress" class="form-label">Supplier Address</label>
                                                    <textarea class="form-control" id="supplierAddress" name="supplier_address" rows="2"></textarea>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="supplierCity" class="form-label">City</label>
                                                    <input type="text" class="form-control" id="supplierCity" name="supplier_city">
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="supplierState" class="form-label">State/Province</label>
                                                    <input type="text" class="form-control" id="supplierState" name="supplier_state">
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="supplierZip" class="form-label">Postal/Zip Code</label>
                                                    <input type="text" class="form-control" id="supplierZip" name="supplier_zip">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="supplierPhone" class="form-label">Phone Number</label>
                                                    <input type="text" class="form-control" id="supplierPhone" name="supplier_phone">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="supplierWebsite" class="form-label">Website</label>
                                                    <input type="text" class="form-control" id="supplierWebsite" name="supplier_website">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Facility Information -->
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title mb-0">Facility Information</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-12">
                                                    <label for="facilityType" class="form-label">Facility Type</label>
                                                    <select class="form-select" id="facilityType" name="facility_type">
                                                        <option value="">Select...</option>
                                                        <option value="captive">Captive Heat Treater</option>
                                                        <option value="commercial">Commercial Heat Treater</option>
                                                        <option value="hybrid">Hybrid (Both)</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="totalEmployees" class="form-label">Total Employees</label>
                                                    <input type="number" class="form-control" id="totalEmployees" name="total_employees">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="heatTreatEmployees" class="form-label">Heat Treat Employees</label>
                                                    <input type="number" class="form-control" id="heatTreatEmployees" name="heat_treat_employees">
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="heatTreatProcesses" class="form-label">Heat Treat Processes</label>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value="carburizing" id="processCarburizing" name="ht_process_carburizing">
                                                        <label class="form-check-label" for="processCarburizing">Carburizing</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value="carbonitriding" id="processCarbonitriding" name="ht_process_carbonitriding">
                                                        <label class="form-check-label" for="processCarbonitriding">Carbonitriding</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value="hardening" id="processHardening" name="ht_process_hardening">
                                                        <label class="form-check-label" for="processHardening">Hardening</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value="annealing" id="processAnnealing" name="ht_process_annealing">
                                                        <label class="form-check-label" for="processAnnealing">Annealing</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value="nitriding" id="processNitriding" name="ht_process_nitriding">
                                                        <label class="form-check-label" for="processNitriding">Nitriding</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value="other" id="processOther" name="ht_process_other">
                                                        <label class="form-check-label" for="processOther">Other (specify below)</label>
                                                    </div>
                                                    <input type="text" class="form-control mt-2" id="processOtherText" name="ht_process_other_text" placeholder="Other heat treat processes">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Contact Information -->
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title mb-0">Key Contacts</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-12">
                                                    <label for="contactManagement" class="form-label">Management Representative</label>
                                                    <input type="text" class="form-control" id="contactManagement" name="contact_management">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="contactManagementPhone" class="form-label">Phone</label>
                                                    <input type="text" class="form-control" id="contactManagementPhone" name="contact_management_phone">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="contactManagementEmail" class="form-label">Email</label>
                                                    <input type="email" class="form-control" id="contactManagementEmail" name="contact_management_email">
                                                </div>
                                                
                                                <div class="col-md-12">
                                                    <label for="contactHeatTreat" class="form-label">Heat Treat Representative</label>
                                                    <input type="text" class="form-control" id="contactHeatTreat" name="contact_heat_treat">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="contactHeatTreatPhone" class="form-label">Phone</label>
                                                    <input type="text" class="form-control" id="contactHeatTreatPhone" name="contact_heat_treat_phone">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="contactHeatTreatEmail" class="form-label">Email</label>
                                                    <input type="email" class="form-control" id="contactHeatTreatEmail" name="contact_heat_treat_email">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Assessment Information -->
                                <div class="col-12">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title mb-0">Assessment Information</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-6">
                                                    <label for="auditDate" class="form-label">Assessment Date</label>
                                                    <input type="date" class="form-control" id="auditDate" name="audit_date">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="auditType" class="form-label">Assessment Type</label>
                                                    <select class="form-select" id="auditType" name="audit_type">
                                                        <option value="">Select...</option>
                                                        <option value="initial">Initial Assessment</option>
                                                        <option value="surveillance">Surveillance Assessment</option>
                                                        <option value="renewal">Renewal Assessment</option>
                                                        <option value="special">Special Assessment</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="auditScope" class="form-label">Assessment Scope</label>
                                                    <textarea class="form-control" id="auditScope" name="audit_scope" rows="2"></textarea>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="previousAuditDate" class="form-label">Previous Assessment Date (if applicable)</label>
                                                    <input type="date" class="form-control" id="previousAuditDate" name="previous_audit_date">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="previousAuditScore" class="form-label">Previous Assessment Score</label>
                                                    <input type="text" class="form-control" id="previousAuditScore" name="previous_audit_score">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Assessment Team -->
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title mb-0">Assessment Team</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-12">
                                                    <label for="auditorName" class="form-label">Lead Assessor Name</label>
                                                    <input type="text" class="form-control" id="auditorName" name="auditor_name">
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="auditorOrganization" class="form-label">Lead Assessor Organization</label>
                                                    <input type="text" class="form-control" id="auditorOrganization" name="auditor_organization">
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="auditorEmail" class="form-label">Lead Assessor Email</label>
                                                    <input type="email" class="form-control" id="auditorEmail" name="auditor_email">
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="teamMembers" class="form-label">Team Members</label>
                                                    <textarea class="form-control" id="teamMembers" name="team_members" rows="2" placeholder="Name, Organization, Role"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Customer-Specific Requirements -->
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title mb-0">Customer-Specific Requirements</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-12">
                                                    <label for="customersAssessed" class="form-label">Customers Assessed</label>
                                                    <textarea class="form-control" id="customersAssessed" name="customers_assessed" rows="2"></textarea>
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="specificRequirements" class="form-label">Specific Requirements</label>
                                                    <textarea class="form-control" id="specificRequirements" name="specific_requirements" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Assessment Results -->
                                <div class="col-12">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title mb-0">Assessment Results</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-4">
                                                    <label for="overallRating" class="form-label">Overall Rating</label>
                                                    <select class="form-select" id="overallRating" name="overall_rating">
                                                        <option value="">Select...</option>
                                                        <option value="satisfactory">Satisfactory</option>
                                                        <option value="needs_improvement">Needs Improvement</option>
                                                        <option value="unsatisfactory">Unsatisfactory</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="score" class="form-label">Score</label>
                                                    <input type="number" class="form-control" id="score" name="score" min="0" max="100">
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="nextAuditDate" class="form-label">Next Assessment Due</label>
                                                    <input type="date" class="form-control" id="nextAuditDate" name="next_audit_date">
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="auditSummary" class="form-label">Assessment Summary</label>
                                                    <textarea class="form-control" id="auditSummary" name="audit_summary" rows="4"></textarea>
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="majorFindings" class="form-label">Major Findings</label>
                                                    <textarea class="form-control" id="majorFindings" name="major_findings" rows="3"></textarea>
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="minorFindings" class="form-label">Minor Findings</label>
                                                    <textarea class="form-control" id="minorFindings" name="minor_findings" rows="3"></textarea>
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="improvement" class="form-label">Opportunities for Improvement</label>
                                                    <textarea class="form-control" id="improvement" name="improvement" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section 1 - Management Responsibility Tab -->
                        <div class="tab-pane fade" id="section1" role="tabpanel" aria-labelledby="section1-tab">
                            <div class="d-flex justify-content-between mb-4">
                                <h3 class="h4">Section 1 - Management Responsibility & Quality Planning</h3>
                                <button type="button" class="btn btn-sm btn-primary analyze-section-btn" data-section="section1">
                                    <i class="fas fa-robot me-1"></i> Analyze All
                                </button>
                            </div>
                            
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead class="table-light">
                                        <tr>
                                            <th colspan="4" class="text-center">Section 1 - Management Responsibility and Quality Planning</th>
                                        </tr>
                                        <tr>
                                            <th colspan="4" class="text-center">Please describe Objective Evidence for each Requirement</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- 1.1 Dedicated and Qualified Heat Treat Person -->
                                        <tr>
                                            <td style="width: 5%">1.1</td>
                                            <td colspan="3" class="fw-bold">Is there a dedicated and qualified heat treat person on-site?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">To ensure readily available expertise the following requirements shall be met.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">There shall be a dedicated and qualified full-time heat treat person on site.</div>
                                                    <div class="requirement-text">The position shall be reflected in the organization chart.</div>
                                                    <div class="requirement-text">A job description shall exist identifying the qualifications for the positions including appropriate metallurgical and heat treat knowledge for the individuals.</div>
                                                    <div class="requirement-text">Evidence shall be available regarding the qualifications with a minimum of 5 years experience in heat treat operations or as a combination of a minimum of 5 years of formal metallurgical education and heat treat experience.</div>
                                                </div>
                                            </td>
                                            <td style="width: 40%">
                                                <textarea class="form-control evidence-textarea" name="evidence_1_1" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td style="width: 15%">
                                                <div class="d-flex flex-column gap-2">
                                                    <select class="form-select" name="rating_1_1">
                                                        <option value="">Select...</option>
                                                        <option value="satisfactory">Satisfactory</option>
                                                        <option value="not_satisfactory">Not Satisfactory</option>
                                                        <option value="na">N/A</option>
                                                    </select>
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-section="1.1">
                                                        <i class="fas fa-robot me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                        <!-- 1.2 Advanced Quality Planning -->
                                        <tr>
                                            <td>1.2</td>
                                            <td colspan="3" class="fw-bold">Does the heat treater perform advanced quality planning?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall incorporate a documented advance quality planning process. A structured system for such process with the APQP elements is recommended, samples are available in the AIAG APQP manual or other equivalent national automotive industry standards. Similar parts can be grouped into part families for this effort as defined by the organization.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">There shall be documented advance quality planning procedure available.</div>
                                                    <div class="requirement-text">Feasibility studies shall be performed and internally approved for each part or group of similar parts.</div>
                                                    <div class="requirement-text">There shall be a documented system for process changes with approval by the customer.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_2" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td>
                                                <div class="d-flex flex-column gap-2">
                                                    <select class="form-select" name="rating_1_2">
                                                        <option value="">Select...</option>
                                                        <option value="satisfactory">Satisfactory</option>
                                                        <option value="not_satisfactory">Not Satisfactory</option>
                                                        <option value="na">N/A</option>
                                                    </select>
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-section="1.2">
                                                        <i class="fas fa-robot me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                        <!-- 1.3 Heat Treat FMEAs -->
                                        <tr>
                                            <td>1.3</td>
                                            <td colspan="3" class="fw-bold">Are heat treat FMEAs up to date and reflecting current processing?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Failure Mode and Effects Analysis (FMEA) for processes (PFMEA) is mandatory for the prevention of product/process failure modes and final product concerns. Examples of appropriate methods and standards include SAE J1739, AIAG & VDA FMEA Handbook.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">There shall be a documented Failure Mode and Effects Analysis (FMEA) procedure with the present FMEAs updated and reflecting the current part quality status.</div>
                                                    <div class="requirement-text">FMEAs shall address all process steps from part receipt to part shipment and all the key heat treat process parameters as defined by the organization.</div>
                                                    <div class="requirement-text">All special characteristics, as defined by the organization and its customers, shall be identified, defined, and addressed in the FMEA.</div>
                                                    <div class="requirement-text">A cross-functional team shall be used in the development of the FMEA and shall be consistent with all associated documentation such as Control Plans, work instructions and shop travelers.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_3" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td>
                                                <div class="d-flex flex-column gap-2">
                                                    <select class="form-select" name="rating_1_3">
                                                        <option value="">Select...</option>
                                                        <option value="satisfactory">Satisfactory</option>
                                                        <option value="not_satisfactory">Not Satisfactory</option>
                                                        <option value="na">N/A</option>
                                                    </select>
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-section="1.3">
                                                        <i class="fas fa-robot me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                        <!-- 1.4 Control Plans -->
                                        <tr>
                                            <td>1.4</td>
                                            <td colspan="3" class="fw-bold">Are heat treat process control plans up to date and reflecting current processing?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Reference automotive industry Control Plan guidelines. The Control Plan may be specific for each part or part family or it can be process specific and written for each process. In any case it describes required controls and actions for each process step as well as periodic requirements to assure process is in control.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">The organization shall incorporate the use of a documented Control Plan reflecting the current process.</div>
                                                    <div class="requirement-text">Control Plans shall address all process steps from part receipt to part shipment and identify all equipment used and all key heat treat process parameters as defined by the organization.</div>
                                                    <div class="requirement-text">A cross-functional team shall be used in the development of the Control Plan and shall be consistent with all associated documentation such as FMEAs, work instructions and shop travelers.</div>
                                                    <div class="requirement-text">All special characteristics as defined by the organization or its customers shall be identified, defined, and addressed in the applicable control plan.</div>
                                                    <div class="requirement-text">Sample sizes and frequencies for evaluation of process and product characteristics shall be addressed and shall be consistent with the minimum requirements listed in the applicable Process Table.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_4" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td>
                                                <div class="d-flex flex-column gap-2">
                                                    <select class="form-select" name="rating_1_4">
                                                        <option value="">Select...</option>
                                                        <option value="satisfactory">Satisfactory</option>
                                                        <option value="not_satisfactory">Not Satisfactory</option>
                                                        <option value="na">N/A</option>
                                                    </select>
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-section="1.4">
                                                        <i class="fas fa-robot me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                        <!-- 1.5 Current Specifications -->
                                        <tr>
                                            <td>1.5</td>
                                            <td colspan="3" class="fw-bold">Are all heat treat related and referenced specifications current and available?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">A document control system is pertinent for the handling and internal distribution of received customer specifications and to keep up to date with national or global standards related or close to heat treat processes.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">The organization shall have a procedure and process to ensure the timely review, distribution and implementation of all customer and industry engineering standards/specifications and changes based on customer-required schedule.</div>
                                                    <div class="requirement-text">The organization shall have all related heat treat and customer referenced standards and specifications available for use, like but not limited to SAE, AIAG, ASTM, ISO, EN, JIS, General Motors, Ford, and FCA.</div>
                                                    <div class="requirement-text">The procedure shall include a 2-week distribution limit for cascading newly received and reviewed documents.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_5" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td>
                                                <div class="d-flex flex-column gap-2">
                                                    <select class="form-select" name="rating_1_5">
                                                        <option value="">Select...</option>
                                                        <option value="satisfactory">Satisfactory</option>
                                                        <option value="not_satisfactory">Not Satisfactory</option>
                                                        <option value="na">N/A</option>
                                                    </select>
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-section="1.5">
                                                        <i class="fas fa-robot me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                        <!-- 1.6 Process Specifications -->
                                        <tr>
                                            <td>1.6</td>
                                            <td colspan="3" class="fw-bold">Is there a documented system to create process specifications for all active processes?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">A documented system for creating process specifications is necessary for operating the heat treat process within the desired, requested process parameters to reach the final product specifications.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Authorization shall be defined to a responsible person (see 1.1) for establishing process specification for the heat treatment of the products with the available equipment.</div>
                                                    <div class="requirement-text">The heat treater shall have written process specifications for all active processes and identify all steps of the process including relevant process parameters.</div>
                                                    <div class="requirement-text">Parameters shall have operating tolerances as defined by the organization in order to maintain process control.</div>
                                                    <div class="requirement-text">Process specifications shall be available in the form of work instructions, job card, computer-based recipes, or other similar documents.</div>
                                                    <div class="requirement-text">All process specification changes shall be reviewed to ensure continued conformity with customer requirements for process changes.</div>
                                                    <div class="requirement-text">All process specification changes shall be documented to include the date the process specification change was implemented and the person(s) approving the change.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_6" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td>
                                                <div class="d-flex flex-column gap-2">
                                                    <select class="form-select" name="rating_1_6">
                                                        <option value="">Select...</option>
                                                        <option value="satisfactory">Satisfactory</option>
                                                        <option value="not_satisfactory">Not Satisfactory</option>
                                                        <option value="na">N/A</option>
                                                    </select>
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-section="1.6">
                                                        <i class="fas fa-robot me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                        <!-- 1.7 Internal Audits -->
                                        <tr>
                                            <td style="width: 5%">1.7</td>
                                            <td colspan="3" class="fw-bold">Does the organization have an internal audit process?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall have a documented internal audit process.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The organization shall have a documented internal audit process.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_7_1" data-requirement-id="1.7.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_7_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_7_1" id="satisfactory_1_7_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_7_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_7_1" id="not_satisfactory_1_7_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_7_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_7_1" id="na_1_7_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_7_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.7.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>Internal audits shall be conducted on a regular basis to ensure compliance with heat treat requirements.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_7_2" data-requirement-id="1.7.2" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_7_2">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_7_2" id="satisfactory_1_7_2" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_7_2">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_7_2" id="not_satisfactory_1_7_2" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_7_2">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_7_2" id="na_1_7_2" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_7_2">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.7.2">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>Records of internal audits and follow-up actions shall be maintained.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_7_3" data-requirement-id="1.7.3" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_7_3">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_7_3" id="satisfactory_1_7_3" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_7_3">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_7_3" id="not_satisfactory_1_7_3" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_7_3">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_7_3" id="na_1_7_3" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_7_3">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.7.3">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.8 Training -->
                                        <tr>
                                            <td style="width: 5%">1.8</td>
                                            <td colspan="3" class="fw-bold">Does the organization have a training system?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall have a documented training system for all personnel involved in heat treatment processes.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The organization shall have a documented training system for all personnel involved in heat treatment processes.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_8_1" data-requirement-id="1.8.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_8_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_8_1" id="satisfactory_1_8_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_8_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_8_1" id="not_satisfactory_1_8_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_8_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_8_1" id="na_1_8_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_8_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.8.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>Training records shall be maintained for all personnel involved in heat treatment operations.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_8_2" data-requirement-id="1.8.2" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_8_2">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_8_2" id="satisfactory_1_8_2" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_8_2">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_8_2" id="not_satisfactory_1_8_2" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_8_2">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_8_2" id="na_1_8_2" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_8_2">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.8.2">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>Training effectiveness shall be evaluated.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_8_3" data-requirement-id="1.8.3" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_8_3">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_8_3" id="satisfactory_1_8_3" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_8_3">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_8_3" id="not_satisfactory_1_8_3" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_8_3">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_8_3" id="na_1_8_3" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_8_3">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.8.3">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.9 Heat Treat Monitoring System Review -->
                                        <tr>
                                            <td style="width: 5%">1.9</td>
                                            <td colspan="3" class="fw-bold">Is the heat treat monitoring system reviewed by Qualified Personnel?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">This review is intended to be a second level review in addition to those performed by the heat treat operators. This review would be performed by qualified personnel as defined per question 1.17. The heat treat monitoring system includes but is not limited to temperature strip charts, atmosphere strip charts, computer data logs, furnace and operator logs, etc.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>Qualified Personnel shall review the furnace monitoring systems at intervals not to exceed 24 hours.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_9_1" data-requirement-id="1.9.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_9_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_9_1" id="satisfactory_1_9_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_9_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_9_1" id="not_satisfactory_1_9_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_9_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_9_1" id="na_1_9_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_9_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.9.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The process of reviewing the furnace data shall be documented. This requirement also applies to computerized data.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_9_2" data-requirement-id="1.9.2" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_9_2">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_9_2" id="satisfactory_1_9_2" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_9_2">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_9_2" id="not_satisfactory_1_9_2" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_9_2">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_9_2" id="na_1_9_2" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_9_2">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.9.2">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>This second level review shall include detection and reaction to out of control conditions or alarms. This reaction shall be documented.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_9_3" data-requirement-id="1.9.3" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_9_3">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_9_3" id="satisfactory_1_9_3" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_9_3">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_9_3" id="not_satisfactory_1_9_3" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_9_3">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_9_3" id="na_1_9_3" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_9_3">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.9.3">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.10 Internal Assessments -->
                                        <tr>
                                            <td style="width: 5%">1.10</td>
                                            <td colspan="3" class="fw-bold">Are internal assessments being completed on an annual basis, at a minimum, using AIAG HTSA?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The internal assessment includes a completed job audit and process table for each applicable process.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The organization shall conduct internal assessments on an annual basis, at a minimum, using the current revision of the AIAG HTSA.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_10_1" data-requirement-id="1.10.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_10_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_10_1" id="satisfactory_1_10_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_10_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_10_1" id="not_satisfactory_1_10_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_10_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_10_1" id="na_1_10_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_10_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.10.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.11 Rework/Reprocessing -->
                                        <tr>
                                            <td style="width: 5%">1.11</td>
                                            <td colspan="3" class="fw-bold">Does the heat treater have a documented procedure for the rework/reprocessing of parts?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Rework/Reprocessing of heat treated components can have a significant impact on the performance of the component. Reworking/Reprocessing in some cases is an acceptable practice. A rework/reprocessing procedure is key to identifying the rework/reprocessing practice. To be approved for rework/reprocessing, either on a case by case basis or pre-approved in the PPAP, the heat treater shall meet the following requirements.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>Any change or addition to the rework/reprocessing procedure shall require notification and approval in accordance with the AIAG PPAP process. Any rework/reprocessing not previously approved and identified in the rework/reprocessing procedure is not allowed.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_11_1" data-requirement-id="1.11.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_11_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_11_1" id="satisfactory_1_11_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_11_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_1" id="not_satisfactory_1_11_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_11_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_1" id="na_1_11_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_11_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.11.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The OEM shall be notified by the Tier 1 supplier prior to rework/reprocessing product utilizing an unapproved process. If not Tier 1, the customer shall be notified.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_11_2" data-requirement-id="1.11.2" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_11_2">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_11_2" id="satisfactory_1_11_2" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_11_2">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_2" id="not_satisfactory_1_11_2" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_11_2">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_2" id="na_1_11_2" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_11_2">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.11.2">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The rework/reprocessing procedure shall be referenced in the heat treater's PPAP approved PFMEA and process control plan.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_11_3" data-requirement-id="1.11.3" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_11_3">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_11_3" id="satisfactory_1_11_3" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_11_3">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_3" id="not_satisfactory_1_11_3" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_11_3">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_3" id="na_1_11_3" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_11_3">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.11.3">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The rework/reprocessing procedure shall include: a description of product characteristics for which rework/reprocessing is allowed, requirement for new process control sheet issued by qualified personnel, requirement for a record of all rework/reprocessing work, description of the sampling plan, and requirement for Quality Manager approval for release.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_11_4" data-requirement-id="1.11.4" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_11_4">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_11_4" id="satisfactory_1_11_4" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_11_4">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_4" id="not_satisfactory_1_11_4" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_11_4">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_11_4" id="na_1_11_4" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_11_4">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.11.4">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 1.12 Review, Address, and Document Concerns -->
                                        <tr>
                                            <td style="width: 5%">1.12</td>
                                            <td colspan="3" class="fw-bold">Does the Quality Department review, address, and document customer and Internal concerns?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The quality management system shall include a process for documenting, reviewing, and addressing customer concerns and any other concerns internal to the organization. A disciplined problem-solving approach shall be used.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.12.1</td>
                                            <td>The quality management system shall include a process for documenting, reviewing, and addressing customer concerns and any other concerns internal to the organization. A disciplined problem-solving approach shall be used.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_12_1" data-requirement-id="1.12.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_12_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_12_1" id="na_1_12_1" value="na"><label class="btn btn-outline-secondary" for="na_1_12_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_12_1" id="satisfactory_1_12_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_12_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_12_1" id="not_satisfactory_1_12_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_12_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_12_1" id="immediate_action_1_12_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_12_1">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.13 Customer Requirements -->
                                        <tr>
                                            <td style="width: 5%">1.13</td>
                                            <td colspan="3" class="fw-bold">Have customer specific requirements been communicated to all personnel having responsibilities for heat treating operations?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Customer requirements shall be clearly communicated to personnel that are responsible for quality, tooling, production, engineering, and shipping. In order to ensure all customer heat treat requirements are met, those requirements must be clearly presented to all persons responsible for performing the heat treat operation.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>Customer requirements shall be documented, reviewed and communicated to all personnel having responsibility for heat treating operations.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_13_1" data-requirement-id="1.13.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_13_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_13_1" id="satisfactory_1_13_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_13_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_13_1" id="not_satisfactory_1_13_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_13_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_13_1" id="na_1_13_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_13_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.13.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.14 Special Processes -->
                                        <tr>
                                            <td style="width: 5%">1.14</td>
                                            <td colspan="3" class="fw-bold">Have all requirements for the control of special processes been documented?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Special processes requiring extra controls or documentation shall be identified and specific requirements determined.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>All requirements for the control of special processes shall be documented. Special processes shall be approved by the customer as required.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_14_1" data-requirement-id="1.14.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_14_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_14_1" id="satisfactory_1_14_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_14_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_14_1" id="not_satisfactory_1_14_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_14_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_14_1" id="na_1_14_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_14_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.14.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.15 Procedures or Work Instructions -->
                                        <tr>
                                            <td style="width: 5%">1.15</td>
                                            <td colspan="3" class="fw-bold">Are there procedures or work instructions available to the heat treat personnel that define the heat treating process?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">There shall be procedures or work instructions available to all employees involved in heat treating and inspection of heat treated product. These procedures or work instructions shall include methods of addressing potential emergencies (such as power failure), equipment start-up, equipment shut-down, product segregation (See 2.8), product inspection, and general operating procedures.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.15.1</td>
                                            <td>There shall be procedures or work instructions available to all employees involved in heat treating and inspection of heat treated product.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_15_1" data-requirement-id="1.15.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_15_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_15_1" id="na_1_15_1" value="na"><label class="btn btn-outline-secondary" for="na_1_15_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_15_1" id="satisfactory_1_15_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_15_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_15_1" id="not_satisfactory_1_15_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_15_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_15_1" id="immediate_action_1_15_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_15_1">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.15.2</td>
                                            <td>These procedures or work instructions shall include methods of addressing potential emergencies (such as power failure), equipment start-up, equipment shut-down, product segregation (See 2.8), product inspection, and general operating procedures.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_15_2" data-requirement-id="1.15.2" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_15_2">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_15_2" id="na_1_15_2" value="na"><label class="btn btn-outline-secondary" for="na_1_15_2">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_15_2" id="satisfactory_1_15_2" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_15_2">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_15_2" id="not_satisfactory_1_15_2" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_15_2">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_15_2" id="immediate_action_1_15_2" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_15_2">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.16 Employee Training -->
                                        <tr>
                                            <td style="width: 5%">1.16</td>
                                            <td colspan="3" class="fw-bold">Is management providing employee training for heat treating?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall provide employee training (including follow up and ongoing training) for all heat treating and inspection operations, including backup and temporary employees. Management shall define the qualification requirements for each function. Documented evidence of training and training effectiveness shall be maintained. Operators shall be trained in material handling, containment action, and product segregation in the event of an equipment emergency including power failure.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.16.1</td>
                                            <td>The organization shall provide employee training (including follow up and ongoing training) for all heat treating and inspection operations, including backup and temporary employees.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_16_1" data-requirement-id="1.16.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_16_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_16_1" id="na_1_16_1" value="na"><label class="btn btn-outline-secondary" for="na_1_16_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_1" id="satisfactory_1_16_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_16_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_1" id="not_satisfactory_1_16_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_16_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_1" id="immediate_action_1_16_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_16_1">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.16.2</td>
                                            <td>Management shall define the qualification requirements for each function.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_16_2" data-requirement-id="1.16.2" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_16_2">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_16_2" id="na_1_16_2" value="na"><label class="btn btn-outline-secondary" for="na_1_16_2">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_2" id="satisfactory_1_16_2" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_16_2">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_2" id="not_satisfactory_1_16_2" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_16_2">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_2" id="immediate_action_1_16_2" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_16_2">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.16.3</td>
                                            <td>Documented evidence of training and training effectiveness shall be maintained.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_16_3" data-requirement-id="1.16.3" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_16_3">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_16_3" id="na_1_16_3" value="na"><label class="btn btn-outline-secondary" for="na_1_16_3">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_3" id="satisfactory_1_16_3" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_16_3">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_3" id="not_satisfactory_1_16_3" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_16_3">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_3" id="immediate_action_1_16_3" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_16_3">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.16.4</td>
                                            <td>Operators shall be trained in material handling, containment action, and product segregation in the event of an equipment emergency including power failure.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_16_4" data-requirement-id="1.16.4" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_16_4">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_16_4" id="na_1_16_4" value="na"><label class="btn btn-outline-secondary" for="na_1_16_4">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_4" id="satisfactory_1_16_4" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_16_4">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_4" id="not_satisfactory_1_16_4" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_16_4">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_16_4" id="immediate_action_1_16_4" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_16_4">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.17 Key Management and Supervisory Functions -->
                                        <tr>
                                            <td style="width: 5%">1.17</td>
                                            <td colspan="3" class="fw-bold">Are all key management and supervisory functions (in regards to Heat Treatment) performed by qualified personnel?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall define and document, key management and supervisory functions in regards to heat treatment. This documentation shall clearly identify both primary and secondary (backup) personnel. This information shall be readily available to appropriate personnel.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.17.1</td>
                                            <td>The organization shall define and document, key management and supervisory functions in regards to heat treatment.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_17_1" data-requirement-id="1.17.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_17_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_17_1" id="na_1_17_1" value="na"><label class="btn btn-outline-secondary" for="na_1_17_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_1" id="satisfactory_1_17_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_17_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_1" id="not_satisfactory_1_17_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_17_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_1" id="immediate_action_1_17_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_17_1">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.17.2</td>
                                            <td>This documentation shall clearly identify both primary and secondary (backup) personnel.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_17_2" data-requirement-id="1.17.2" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_17_2">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_17_2" id="na_1_17_2" value="na"><label class="btn btn-outline-secondary" for="na_1_17_2">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_2" id="satisfactory_1_17_2" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_17_2">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_2" id="not_satisfactory_1_17_2" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_17_2">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_2" id="immediate_action_1_17_2" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_17_2">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.17.3</td>
                                            <td>This information shall be readily available to appropriate personnel.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_17_3" data-requirement-id="1.17.3" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_17_3">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_17_3" id="na_1_17_3" value="na"><label class="btn btn-outline-secondary" for="na_1_17_3">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_3" id="satisfactory_1_17_3" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_17_3">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_3" id="not_satisfactory_1_17_3" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_17_3">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_17_3" id="immediate_action_1_17_3" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_17_3">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.18 Preventive and Predictive Maintenance -->
                                        <tr>
                                            <td style="width: 5%">1.18</td>
                                            <td colspan="3" class="fw-bold">Is there a preventive maintenance program? Is maintenance data being utilized to form a predictive maintenance program?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall have a documented preventive maintenance program for all heat treat process equipment. The program shall be a closed-loop process that tracks maintenance efforts from request to completion to assessment of effectiveness. Equipment operators shall have the opportunity to report problems, and the problems shall be handled in a closed-loop manner. The company data (e.g. downtime, quality rejects, first-time-through capability, recurring maintenance work orders, and operator-reported problems) shall be used to improve the preventive maintenance program. Maintenance data shall be collected and analyzed as part of the defined predictive maintenance program.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.18.1</td>
                                            <td>The organization shall have a documented preventive maintenance program for all heat treat process equipment.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_18_1" data-requirement-id="1.18.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_18_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_18_1" id="na_1_18_1" value="na"><label class="btn btn-outline-secondary" for="na_1_18_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_1" id="satisfactory_1_18_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_18_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_1" id="not_satisfactory_1_18_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_18_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_1" id="immediate_action_1_18_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_18_1">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.18.2</td>
                                            <td>The program shall be a closed-loop process that tracks maintenance efforts from request to completion to assessment of effectiveness.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_18_2" data-requirement-id="1.18.2" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_18_2">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_18_2" id="na_1_18_2" value="na"><label class="btn btn-outline-secondary" for="na_1_18_2">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_2" id="satisfactory_1_18_2" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_18_2">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_2" id="not_satisfactory_1_18_2" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_18_2">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_2" id="immediate_action_1_18_2" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_18_2">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.18.3</td>
                                            <td>Equipment operators shall have the opportunity to report problems, and the problems shall be handled in a closed-loop manner.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_18_3" data-requirement-id="1.18.3" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_18_3">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_18_3" id="na_1_18_3" value="na"><label class="btn btn-outline-secondary" for="na_1_18_3">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_3" id="satisfactory_1_18_3" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_18_3">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_3" id="not_satisfactory_1_18_3" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_18_3">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_3" id="immediate_action_1_18_3" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_18_3">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.18.4</td>
                                            <td>The company data (e.g. downtime, quality rejects, first-time-through capability, recurring maintenance work orders, and operator-reported problems) shall be used to improve the preventive maintenance program.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_18_4" data-requirement-id="1.18.4" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_18_4">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_18_4" id="na_1_18_4" value="na"><label class="btn btn-outline-secondary" for="na_1_18_4">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_4" id="satisfactory_1_18_4" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_18_4">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_4" id="not_satisfactory_1_18_4" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_18_4">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_4" id="immediate_action_1_18_4" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_18_4">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.18.5</td>
                                            <td>Maintenance data shall be collected and analyzed as part of the defined predictive maintenance program.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_18_5" data-requirement-id="1.18.5" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_18_5">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_18_5" id="na_1_18_5" value="na"><label class="btn btn-outline-secondary" for="na_1_18_5">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_5" id="satisfactory_1_18_5" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_18_5">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_5" id="not_satisfactory_1_18_5" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_18_5">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_18_5" id="immediate_action_1_18_5" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_18_5">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.19 Continuous Improvement -->
                                        <tr>
                                            <td style="width: 5%">1.19</td>
                                            <td colspan="3" class="fw-bold">Does the organization have a process for continuous improvement?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall have a documented process for continuous improvement of heat treating operations and quality systems.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The organization shall have a documented process for continuous improvement of heat treating operations and quality systems.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_19_1" data-requirement-id="1.19.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_19_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_19_1" id="satisfactory_1_19_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_19_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_19_1" id="not_satisfactory_1_19_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_19_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_19_1" id="na_1_19_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_19_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.19.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.20 Corrective Action -->
                                        <tr>
                                            <td style="width: 5%">1.20</td>
                                            <td colspan="3" class="fw-bold">Is there a corrective action system in place?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall have a documented corrective action system for addressing nonconformities and preventing their recurrence.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>The organization shall have a documented corrective action system for addressing nonconformities and preventing their recurrence.</td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_1_20_1" data-requirement-id="1.20.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_1_20_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_1_20_1" id="satisfactory_1_20_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_1_20_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_20_1" id="not_satisfactory_1_20_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_1_20_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_1_20_1" id="na_1_20_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_1_20_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="1.20.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 1.13 Continual Improvement Plan (CIP) -->
                                        <tr>
                                            <td style="width: 5%">1.13</td>
                                            <td colspan="3" class="fw-bold">Does the organization have a Continual Improvement Plan (CIP)?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Continual improvement is an ongoing effort in the organization to improve processes, services, or products. These efforts may seek incremental improvement over time or breakthrough improvement all at once. A CIP identifies specific continual improvement items, responsibilities and estimated completion dates. Downtime reports, scrap reports, preventive maintenance reports, energy consumption, use of medias, etc., may be used to develop a CIP.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.13.1</td>
                                            <td>The organization shall have continual improvement plan(s).</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_13_1" data-requirement-id="1.13.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_13_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_13_1" id="na_1_13_1" value="na"><label class="btn btn-outline-secondary" for="na_1_13_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_1" id="satisfactory_1_13_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_13_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_1" id="not_satisfactory_1_13_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_13_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_1" id="immediate_action_1_13_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_13_1">Needs Immediate Action</label>
                                                    </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.13.2</td>
                                            <td>The CIP shall have specific action items, identify responsibilities and target completion dates for each action item.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_13_2" data-requirement-id="1.13.2" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_13_2">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_13_2" id="na_1_13_2" value="na"><label class="btn btn-outline-secondary" for="na_1_13_2">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_2" id="satisfactory_1_13_2" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_13_2">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_2" id="not_satisfactory_1_13_2" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_13_2">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_2" id="immediate_action_1_13_2" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_13_2">Needs Immediate Action</label>
                                                    </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.13.3</td>
                                            <td>The organization shall show evidence of program execution.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_13_3" data-requirement-id="1.13.3" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_13_3">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_13_3" id="na_1_13_3" value="na"><label class="btn btn-outline-secondary" for="na_1_13_3">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_3" id="satisfactory_1_13_3" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_13_3">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_3" id="not_satisfactory_1_13_3" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_13_3">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_13_3" id="immediate_action_1_13_3" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_13_3">Needs Immediate Action</label>
                                                    </div>
                                            </td>
                                        </tr>
                                        <!-- 1.14 Control of Nonconforming Material -->
                                        <tr>
                                            <td style="width: 5%">1.14</td>
                                            <td colspan="3" class="fw-bold">Does the organization have a documented procedure for the control of nonconforming material?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">This practice is the responsibility of the manufacturers' quality management organization and their included personnel. The procedure should best describe the complete process with the handling of nonconforming or suspect products, beginning with detection and the authorization/obligation to quarantine those products up to the final decision and disposition in quarantine status.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.14.1</td>
                                            <td>The documented procedure shall specify the responsibilities for handling segregation and disposition of suspect or non-conforming products.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_14_1" data-requirement-id="1.14.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_14_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_14_1" id="na_1_14_1" value="na"><label class="btn btn-outline-secondary" for="na_1_14_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_14_1" id="satisfactory_1_14_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_14_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_14_1" id="not_satisfactory_1_14_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_14_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_14_1" id="immediate_action_1_14_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_14_1">Needs Immediate Action</label>
                                                    </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.14.2</td>
                                            <td>The organization shall keep records showing evidence of process being followed.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_14_2" data-requirement-id="1.14.2" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_14_2">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_14_2" id="na_1_14_2" value="na"><label class="btn btn-outline-secondary" for="na_1_14_2">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_14_2" id="satisfactory_1_14_2" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_14_2">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_14_2" id="not_satisfactory_1_14_2" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_14_2">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_14_2" id="immediate_action_1_14_2" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_14_2">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- 1.19 Critical Spare Parts -->
                                        <tr>
                                            <td style="width: 5%">1.19</td>
                                            <td colspan="3" class="fw-bold">Has the Heat Treater developed a critical spare part list and are the parts available to minimize production disruptions?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The heat treater shall develop and maintain a critical spare parts list. The heat treater shall ensure the availability of critical spare parts to minimize production disruptions.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.19.1</td>
                                            <td>The heat treater shall develop and maintain a critical spare parts list.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_19_1" data-requirement-id="1.19.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_19_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_19_1" id="na_1_19_1" value="na"><label class="btn btn-outline-secondary" for="na_1_19_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_19_1" id="satisfactory_1_19_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_19_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_19_1" id="not_satisfactory_1_19_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_19_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_19_1" id="immediate_action_1_19_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_19_1">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>1.19.2</td>
                                            <td>The heat treater shall ensure the availability of critical spare parts to minimize production disruptions.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_19_2" data-requirement-id="1.19.2" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_19_2">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_19_2" id="na_1_19_2" value="na"><label class="btn btn-outline-secondary" for="na_1_19_2">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_19_2" id="satisfactory_1_19_2" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_19_2">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_19_2" id="not_satisfactory_1_19_2" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_19_2">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_19_2" id="immediate_action_1_19_2" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_19_2">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- 1.20 Material Product Flow Management -->
                                        <tr>
                                            <td style="width: 5%">1.20</td>
                                            <td colspan="3" class="fw-bold">Is material from different heat lots which may preclude achieving the specified metallurgical properties prevented from being processed together?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Where appropriate, the heat treater shall have a material product flow management system to prevent the processing of mixed batches.</td>
                                        </tr>
                                        <tr>
                                            <th>Row</th><th>Requirements</th><th>Objective Evidence</th><th>Assessment</th>
                                        </tr>
                                        <tr>
                                            <td>1.20.1</td>
                                            <td>Where appropriate, the heat treater shall have a material product flow management system to prevent the processing of mixed batches.</td>
                                            <td><textarea class="form-control evidence-textarea" name="evidence_1_20_1" data-requirement-id="1.20.1" rows="3"></textarea></td>
                                            <td class="analysis-cell" id="analysis_1_20_1">
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <input type="radio" class="btn-check" name="assessment_1_20_1" id="na_1_20_1" value="na"><label class="btn btn-outline-secondary" for="na_1_20_1">N/A</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_20_1" id="satisfactory_1_20_1" value="satisfactory"><label class="btn btn-outline-success" for="satisfactory_1_20_1">Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_20_1" id="not_satisfactory_1_20_1" value="not_satisfactory"><label class="btn btn-outline-danger" for="not_satisfactory_1_20_1">Not Satisfactory</label>
                                                    <input type="radio" class="btn-check" name="assessment_1_20_1" id="immediate_action_1_20_1" value="immediate_action"><label class="btn btn-outline-warning" for="immediate_action_1_20_1">Needs Immediate Action</label>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Section 2 - Floor and Material Handling Responsibility -->
                        <div class="tab-pane fade" id="section2" role="tabpanel" aria-labelledby="section2-tab">
                            <div class="d-flex justify-content-between mb-4">
                                <h3 class="h4">Section 2 - Floor and Material Handling Responsibility</h3>
                                <button type="button" class="btn btn-sm btn-primary analyze-section-btn" data-section="section2">
                                    <i class="fas fa-robot me-1"></i> Analyze All
                                </button>
                            </div>
                            
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead class="table-light">
                                        <tr>
                                            <th colspan="4" class="text-center">Section 2 - Floor and Material Handling Responsibility</th>
                                        </tr>
                                        <tr>
                                            <th colspan="4" class="text-center">Please describe Objective Evidence for each Requirement</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- 2.1 Process Tracking System -->
                                        <tr>
                                            <td style="width: 5%">2.1</td>
                                            <td colspan="3" class="fw-bold">Is there a process tracking system in place to ensure parts are processed according to customer order?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">A process tracking system is essential to ensure proper processing and prevent mixing of lots.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">A process tracking system shall be in place to ensure parts are processed according to customer order.</div>
                                                    <div class="requirement-text">The system shall prevent mixing of lots and maintain proper segregation of materials.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_1" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_1" id="satisfactory_2_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_1" id="not_satisfactory_2_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_1" id="na_2_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 2.2 Product Identification -->
                                        <tr>
                                            <td style="width: 5%">2.2</td>
                                            <td colspan="3" class="fw-bold">Is product identification maintained throughout all processes?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Proper product identification is crucial to prevent mixing of lots and maintain process control.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Product identification shall be maintained throughout all processes.</div>
                                                    <div class="requirement-text">Non-heat treated, in-process, and finished product shall be properly segregated in clearly identified locations.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_2" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_2">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_2" id="satisfactory_2_2" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_2">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_2" id="not_satisfactory_2_2" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_2">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_2" id="na_2_2" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_2">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.2">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 2.3 Lot Traceability -->
                                        <tr>
                                            <td style="width: 5%">2.3</td>
                                            <td colspan="3" class="fw-bold">Is lot traceability and integrity maintained throughout all processes?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Maintaining lot traceability is essential for quality control and problem resolution.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Lot traceability shall be maintained throughout the entire process.</div>
                                                    <div class="requirement-text">The system shall ensure complete tracking from receipt through shipping.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_3" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_3">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_3" id="satisfactory_2_3" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_3">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_3" id="not_satisfactory_2_3" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_3">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_3" id="na_2_3" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_3">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.3">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 2.4 Non-conforming Product Control -->
                                        <tr>
                                            <td style="width: 5%">2.4</td>
                                            <td colspan="3" class="fw-bold">Are procedures adequate to prevent movement of non-conforming product into the production system?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The control of suspect or non-conforming product is necessary to prevent inadvertent shipment or contamination of other lots.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Procedures shall exist addressing proper disposition, product identification, and tracking of material flow in and out of the hold area.</div>
                                                    <div class="requirement-text">A non-conforming hold area shall be clearly designated to maintain segregation of such material.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_4" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_4">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_4" id="satisfactory_2_4" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_4">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_4" id="not_satisfactory_2_4" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_4">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_4" id="na_2_4" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_4">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.4">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 2.5 Trap Points -->
                                        <tr>
                                            <td style="width: 5%">2.5</td>
                                            <td colspan="3" class="fw-bold">Is there a system to identify trap points in the entire heat treat process to reduce risk of mixed parts?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Heat-treating furnaces and other processing equipment (including but not limited to baskets, conveyors, chutes, etc.) contain areas that have a risk of trapping or holding parts. Such trapping of parts can lead to damage, improperly processed parts or lot mixing/contamination.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">The heat treater shall have procedures to identify and monitor trap points for each process/equipment.</div>
                                                    <div class="requirement-text">Monitoring of potential trap points shall occur for every lot changeover.</div>
                                                    <div class="requirement-text">Records of trap point inspections shall be maintained.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_5" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_5">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_5" id="satisfactory_2_5" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_5">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_5" id="not_satisfactory_2_5" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_5">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_5" id="na_2_5" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_5">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.5">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 2.6 Container Inspection -->
                                        <tr>
                                            <td style="width: 5%">2.6</td>
                                            <td colspan="3" class="fw-bold">Are containers free of inappropriate material or free of heat treated parts mixed with non-heat treated parts?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Containers used for the transport of parts to be heat treated are often used for the same material after completion of the heat treat process. It is critical that the finished lot is not contaminated with non-heat treated parts or other inappropriate material remaining in the container.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">There shall be a procedure that addresses the inspection of containers used for transporting non-heat treated and heat treated parts.</div>
                                                    <div class="requirement-text">The procedure shall include the inspection of containers after emptying and immediately before re-using to ensure that all parts and inappropriate material have been removed.</div>
                                                    <div class="requirement-text">The source of inappropriate material shall be identified and addressed.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_6" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_6">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_6" id="satisfactory_2_6" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_6">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_6" id="not_satisfactory_2_6" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_6">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_6" id="na_2_6" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_6">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.6">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 2.7 Furnace Loading -->
                                        <tr>
                                            <td style="width: 5%">2.7</td>
                                            <td colspan="3" class="fw-bold">Is furnace loading specified, documented and controlled?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Proper furnace loading is critical for achieving consistent heat treatment results.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Furnace loading parameters shall be specified, documented, and controlled (including but not limited to the following examples: feed rate, belt speed, number of parts per fixture, load weight).</div>
                                                    <div class="requirement-text">Loading procedures shall be available and followed by operators.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_7" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_7">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_7" id="satisfactory_2_7" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_7">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_7" id="not_satisfactory_2_7" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_7">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_7" id="na_2_7" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_7">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.7">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 2.8 Emergency Procedures -->
                                        <tr>
                                            <td style="width: 5%">2.8</td>
                                            <td colspan="3" class="fw-bold">Is there a procedure for material handling, containment action, and product segregation in the event of an equipment emergency including power failure?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Unplanned or emergency downtime greatly increases the risk of improper processing.</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">There shall be a procedure for material handling, containment action, and product segregation in the event of an equipment emergency including power failure.</div>
                                                    <div class="requirement-text">The procedure shall address containment actions related to all elements of the heat-treating process, e.g. loading, austenitizing, quenching, tempering.</div>
                                                    <div class="requirement-text">The procedure shall define when this emergency plan is to be implemented.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_8" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_8">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_8" id="satisfactory_2_8" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_8">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_8" id="not_satisfactory_2_8" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_8">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_8" id="na_2_8" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_8">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.8">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 2.9 Handling, Storage and Packaging -->
                                        <tr>
                                            <td style="width: 5%">2.9</td>
                                            <td colspan="3" class="fw-bold">Is the handling, storage and packaging adequate to preserve product quality?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Some equipment includes conveyors and other moving components that may not be able to handle all part configurations. Other practices such as stacking of overloaded containers can also increase the risk of part damage.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Handling, storage, and packaging shall be adequate to preserve product quality.</div>
                                                    <div class="requirement-text">The heat treater's furnace loading system, in-process handling, and shipping process shall be assessed for risk of part damage or other quality concerns.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_9" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_9">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_9" id="satisfactory_2_9" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_9">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_9" id="not_satisfactory_2_9" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_9">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_9" id="na_2_9" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_9">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.9">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                        
                                        <!-- 2.10 Plant Cleanliness and Housekeeping -->
                                        <tr>
                                            <td style="width: 5%">2.10</td>
                                            <td colspan="3" class="fw-bold">Are plant cleanliness, housekeeping, environmental, and working conditions conducive to control and improve quality?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Plant cleanliness and proper housekeeping are essential for maintaining quality standards in heat treatment operations.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Plant cleanliness, housekeeping, environmental, and working conditions shall be conducive to controlling and improving quality.</div>
                                                    <div class="requirement-text">A housekeeping policy shall be clearly defined and executed.</div>
                                                    <div class="requirement-text">The facility shall be reviewed for conditions that are detrimental to quality processing such as loose parts on floor, oil around quench tanks, inadequate plant lighting, smoke, etc.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_10" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_10">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_10" id="satisfactory_2_10" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_10">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_10" id="not_satisfactory_2_10" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_10">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_10" id="na_2_10" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_10">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.10">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 2.11 Part Contamination Control -->
                                        <tr>
                                            <td style="width: 5%">2.11</td>
                                            <td colspan="3" class="fw-bold">Are parts free from contaminants that would be detrimental to the heat treatment process?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Contamination control is critical for ensuring proper heat treatment results and preventing damage to parts during processing.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Parts shall be free from contaminants that would be detrimental to the heat treatment process.</div>
                                                    <div class="requirement-text">The organization shall have procedures to identify and control potential sources of contamination.</div>
                                                    <div class="requirement-text">Regular inspections shall be conducted to ensure parts remain free from contamination throughout the process.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_2_11" rows="4" placeholder="Enter objective evidence here..."></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_2_11">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_2_11" id="satisfactory_2_11" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_2_11">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_11" id="not_satisfactory_2_11" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_2_11">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_2_11" id="na_2_11" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_2_11">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="2.11">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Section 3 - Equipment Tab -->
                        <div class="tab-pane fade" id="section3" role="tabpanel" aria-labelledby="section3-tab">
                            <div class="d-flex justify-content-between mb-4">
                                <h3 class="h4">Section 3 - Equipment</h3>
                                <button type="button" class="btn btn-sm btn-primary analyze-section-btn" data-section="section3">
                                    <i class="fas fa-robot me-1"></i> Analyze All
                                </button>
                            </div>
                            
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead class="table-light">
                                        <tr>
                                            <th colspan="4" class="text-center">Section 3 - Equipment</th>
                                        </tr>
                                        <tr>
                                            <th colspan="4" class="text-center">Please describe Objective Evidence for each Requirement</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- 3.1 Process Control Equipment -->
                                        <tr>
                                            <td style="width: 5%">3.1</td>
                                            <td colspan="3" class="fw-bold">Do furnaces, generators, and quench systems have proper process control equipment?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Examples include temperature, carbon potential, dew point, gas flows, quench monitoring system including agitation, temperature control, etc., as listed in the applicable Process Tables, Section 1.0</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">The heat-treat equipment including furnaces, generators, and quench systems shall have proper process controls.</div>
                                                    <div class="requirement-text">Recording instruments are required for temperature controlling devices and protective atmosphere monitoring units.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_1_1" data-requirement-id="3.1.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_1_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_1_1" id="satisfactory_3_1_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_1_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_1_1" id="not_satisfactory_3_1_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_1_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_1_1" id="na_3_1_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_1_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.1.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.2 Equipment Calibration -->
                                        <tr>
                                            <td style="width: 5%">3.2</td>
                                            <td colspan="3" class="fw-bold">Are process equipment calibrations, verifications and certifications current?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Refer to the applicable Process Tables, Sections 1.0 and 2.0, for equipment calibration, verification and certification frequencies.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">The calibrations, verifications and certifications of the process equipment shall be performed at regular intervals as specified in the applicable Process Table(s).</div>
                                                    <div class="requirement-text">Non-contact thermometry devices shall be calibrated as specified in the applicable Process Tables.</div>
                                                    <div class="requirement-text">A documented offset procedure as defined in Section P3.2.3 shall exist.</div>
                                                    <div class="requirement-text">The documented offset procedure shall indicate who has the authority to approve the use of offsets and how this approval is documented.</div>
                                                    <div class="requirement-text">Offset or bias applied for the instrumentation calibration adjustment shall comply with P3.2.3.</div>
                                                    <div class="requirement-text">Calibration labels shall meet the requirements established in Section P3.2.5.1.</div>
                                                    <div class="requirement-text">Calibration reports shall meet the requirements established in Section P3.2.5.2.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_2_1" data-requirement-id="3.2.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_2_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_2_1" id="satisfactory_3_2_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_2_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_2_1" id="not_satisfactory_3_2_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_2_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_2_1" id="na_3_2_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_2_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.2.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.3 Thermocouples and Protection Tubes -->
                                        <tr>
                                            <td style="width: 5%">3.3</td>
                                            <td colspan="3" class="fw-bold">Are thermocouples and protection tubes checked or replaced per Process Tables?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The accuracy of thermocouples is essential for good temperature control, the collection of accurate process data and the protection of furnace equipment.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Thermocouples and protection tubes shall be checked or replaced at frequencies specified in the applicable Process Tables.</div>
                                                    <div class="requirement-text">Records shall be maintained showing compliance to the specified frequencies.</div>
                                                    <div class="requirement-text">Thermocouple calibration shall conform to Section P3.1.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_3_1" data-requirement-id="3.3.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_3_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_3_1" id="satisfactory_3_3_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_3_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_3_1" id="not_satisfactory_3_3_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_3_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_3_1" id="na_3_3_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_3_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.3.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.4 Temperature Uniformity -->
                                        <tr>
                                            <td style="width: 5%">3.4</td>
                                            <td colspan="3" class="fw-bold">Does the organization ensure temperature uniformity of all heat treat equipment?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Temperature uniformity is critical for consistent heat treatment results. Surveys must be conducted according to the requirements in Section P3.4.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Temperature uniformity surveys shall be conducted at specified frequencies per Section P3.4.</div>
                                                    <div class="requirement-text">Surveys shall be conducted at minimum and maximum operating temperatures.</div>
                                                    <div class="requirement-text">Survey results shall be documented and maintained.</div>
                                                    <div class="requirement-text">Out-of-specification conditions shall be addressed with corrective actions.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_4_1" data-requirement-id="3.4.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_4_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_4_1" id="satisfactory_3_4_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_4_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_4_1" id="not_satisfactory_3_4_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_4_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_4_1" id="na_3_4_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_4_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.4.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.5 Equipment Records -->
                                        <tr>
                                            <td style="width: 5%">3.5</td>
                                            <td colspan="3" class="fw-bold">Does the organization maintain complete equipment records?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">The organization shall maintain complete records for all heat treat equipment including calibration, maintenance, and testing.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Complete records shall be maintained for all heat treat equipment.</div>
                                                    <div class="requirement-text">Records shall include calibration history, maintenance activities, and testing results.</div>
                                                    <div class="requirement-text">Records shall be readily accessible and properly maintained.</div>
                                                    <div class="requirement-text">Records shall demonstrate compliance with all applicable requirements.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_5_1" data-requirement-id="3.5.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_5_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_5_1" id="satisfactory_3_5_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_5_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_5_1" id="not_satisfactory_3_5_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_5_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_5_1" id="na_3_5_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_5_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.5.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.6 Pyrometry - Thermocouples (P3.1) -->
                                        <tr>
                                            <td style="width: 5%">3.6</td>
                                            <td colspan="3" class="fw-bold">Do thermocouples meet the requirements of Section P3.1?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Thermocouples must meet specific requirements for calibration, accuracy, and usage as defined in Section P3.1.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Thermocouples shall be calibrated before first use within the temperature range they will be used.</div>
                                                    <div class="requirement-text">Thermocouples shall meet accuracy requirements of Section P3.1 Tables.</div>
                                                    <div class="requirement-text">The insertion depth of Type K and Type E test thermocouples shall be documented when reused.</div>
                                                    <div class="requirement-text">Thermocouple wire shall meet ASTM E230 or IEC 60584-1 Special Limits of Error.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_6_1" data-requirement-id="3.6.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_6_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_6_1" id="satisfactory_3_6_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_6_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_6_1" id="not_satisfactory_3_6_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_6_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_6_1" id="na_3_6_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_6_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.6.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.7 Pyrometry - Instrumentation (P3.2) -->
                                        <tr>
                                            <td style="width: 5%">3.7</td>
                                            <td colspan="3" class="fw-bold">Does instrumentation meet the requirements of Section P3.2?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">All instrumentation must meet specific requirements for calibration, accuracy, and operation as defined in Section P3.2.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">Test instruments shall be digital with minimum readability of 1.0C or 1.0F.</div>
                                                    <div class="requirement-text">Temperature for each control zone shall be recorded by a recording instrument.</div>
                                                    <div class="requirement-text">Recorder shall operate during entire time product is in furnace.</div>
                                                    <div class="requirement-text">Print intervals shall not exceed 5 minutes for analog and 2 minutes for digital recorders.</div>
                                                    <div class="requirement-text">If calibrations are outside limits, equipment shall not be used until successful calibration.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_7_1" data-requirement-id="3.7.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_7_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_7_1" id="satisfactory_3_7_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_7_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_7_1" id="not_satisfactory_3_7_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_7_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_7_1" id="na_3_7_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_7_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.7.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.8 Pyrometry - System Accuracy Tests (P3.3) -->
                                        <tr>
                                            <td style="width: 5%">3.8</td>
                                            <td colspan="3" class="fw-bold">Are System Accuracy Tests (SAT) performed according to Section P3.3?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">System Accuracy Tests must be performed to verify the accuracy of the complete temperature measurement system.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">SAT shall be performed at specified frequencies per Process Tables.</div>
                                                    <div class="requirement-text">SAT shall be performed using calibrated test instruments.</div>
                                                    <div class="requirement-text">SAT records shall meet requirements of Section P3.3.5.</div>
                                                    <div class="requirement-text">Failed SATs shall be investigated and corrective action taken.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_8_1" data-requirement-id="3.8.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_8_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_8_1" id="satisfactory_3_8_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_8_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_8_1" id="not_satisfactory_3_8_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_8_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_8_1" id="na_3_8_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_8_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.8.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.9 Pyrometry - Temperature Uniformity Surveys (P3.4) -->
                                        <tr>
                                            <td style="width: 5%">3.9</td>
                                            <td colspan="3" class="fw-bold">Are Temperature Uniformity Surveys (TUS) performed according to Section P3.4?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Temperature Uniformity Surveys must be performed to verify temperature uniformity throughout the work zone.</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">TUS shall be performed at frequencies specified in Process Tables.</div>
                                                    <div class="requirement-text">TUS shall be performed at minimum and maximum operating temperatures.</div>
                                                    <div class="requirement-text">Temperature variations shall not exceed tolerances in Table 3.1.</div>
                                                    <div class="requirement-text">TUS shall be performed after major repairs or modifications.</div>
                                                    <div class="requirement-text">Failed TUS shall be investigated and corrective action taken.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_9_1" data-requirement-id="3.9.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_9_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_9_1" id="satisfactory_3_9_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_9_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_9_1" id="not_satisfactory_3_9_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_9_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_9_1" id="na_3_9_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_9_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.9.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>

                                        <!-- 3.10 Process Table Requirements -->
                                        <tr>
                                            <td style="width: 5%">3.10</td>
                                            <td colspan="3" class="fw-bold">Are all Process Table requirements for equipment met?</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small text-muted">Equipment must meet all requirements specified in the applicable Process Tables (A through I).</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th style="width: 40%">Requirements</th>
                                            <th style="width: 30%">Objective Evidence</th>
                                            <th style="width: 25%">Assessment</th>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="requirement-row">
                                                    <div class="requirement-text">All gaseous quench systems shall have pressure indicators and fan operation indicators.</div>
                                                    <div class="requirement-text">Flow controllers for atmosphere delivery shall be calibrated or verified annually.</div>
                                                    <div class="requirement-text">Vacuum monitoring devices shall be calibrated or verified annually.</div>
                                                    <div class="requirement-text">Spectrometers and carbon IR analyzers shall be verified daily or prior to use.</div>
                                                    <div class="requirement-text">Equipment shall meet all specific requirements in applicable Process Tables.</div>
                                                </div>
                                            </td>
                                            <td>
                                                <textarea class="form-control evidence-textarea" name="evidence_3_10_1" data-requirement-id="3.10.1" rows="3"></textarea>
                                            </td>
                                            <td class="analysis-cell" id="analysis_3_10_1">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <div class="btn-group btn-group-sm" role="group">
                                                        <input type="radio" class="btn-check" name="assessment_3_10_1" id="satisfactory_3_10_1" value="satisfactory">
                                                        <label class="btn btn-outline-success" for="satisfactory_3_10_1">Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_10_1" id="not_satisfactory_3_10_1" value="not_satisfactory">
                                                        <label class="btn btn-outline-danger" for="not_satisfactory_3_10_1">Not Satisfactory</label>
                                                        
                                                        <input type="radio" class="btn-check" name="assessment_3_10_1" id="na_3_10_1" value="na">
                                                        <label class="btn btn-outline-secondary" for="na_3_10_1">N/A</label>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <button type="button" class="btn btn-sm btn-outline-primary analyze-btn" data-requirement-id="3.10.1">
                                                        <i class="fas fa-brain me-1"></i> Analyze
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" class="small">Comments:</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize any existing audit data
        // Use a safer approach to handle Jinja template data
        let auditData = {};
        
        // Initialize audit data from server-side template
        const auditDataElement = document.getElementById('audit-data');
        if (auditDataElement) {
            try {
                auditData = JSON.parse(auditDataElement.getAttribute('data-audit'));
            } catch (e) {
                console.error('Error parsing audit data:', e);
            }
        }
        
        if (Object.keys(auditData).length > 0) {
            populateAuditData(auditData);
        }
        
        // Save audit data
        document.getElementById('saveAuditBtn').addEventListener('click', function() {
            saveAudit();
        });
        
        // Generate report
        document.getElementById('generateReportBtn').addEventListener('click', function() {
            alert('Report generation functionality will be implemented here');
        });
        
        // Analyze requirement buttons
        document.querySelectorAll('.analyze-btn').forEach(button => {
            button.addEventListener('click', function() {
                const requirementId = this.getAttribute('data-requirement-id');
                const evidenceTextarea = document.querySelector(`textarea[data-requirement-id="${requirementId}"]`);
                const evidence = evidenceTextarea.value.trim();
                
                if (evidence === '') {
                    alert('Please provide objective evidence before analyzing.');
                    return;
                }
                
                analyzeRequirement(requirementId, evidence);
            });
        });
        
        // Analyze section buttons
        document.querySelectorAll('.analyze-section-btn').forEach(button => {
            button.addEventListener('click', function() {
                const section = this.getAttribute('data-section');
                const sectionTab = document.getElementById(section);
                
                if (!sectionTab) return;
                
                const evidenceTextareas = sectionTab.querySelectorAll('.evidence-textarea');
                let anyEvidence = false;
                
                evidenceTextareas.forEach(textarea => {
                    if (textarea.value.trim() !== '') {
                        anyEvidence = true;
                        const requirementId = textarea.getAttribute('data-requirement-id');
                        analyzeRequirement(requirementId, textarea.value);
                    }
                });
                
                if (!anyEvidence) {
                    alert('Please provide objective evidence for at least one requirement before analyzing.');
                }
            });
        });
    });
    
    function populateAuditData(data) {
        // Populate cover sheet data
        if (data.cover_sheet) {
            for (const [key, value] of Object.entries(data.cover_sheet)) {
                const element = document.getElementById(key) || document.querySelector(`[name="${key}"]`);
                if (element) {
                    element.value = value;
                }
            }
        }
        
        // Populate evidence fields
        const sections = ['section1', 'section2', 'section3', 'jobaudit'];
        sections.forEach(section => {
            if (data[section]) {
                for (const [key, value] of Object.entries(data[section])) {
                    if (key.startsWith('evidence_')) {
                        const textarea = document.querySelector(`[name="${key}"]`);
                        if (textarea) {
                            textarea.value = value;
                        }
                    }
                }
            }
        });
        
        // Populate job audit data
        if (data.job_audit) {
            for (const [key, value] of Object.entries(data.job_audit)) {
                const element = document.getElementById(key) || document.querySelector(`[name="${key}"]`);
                if (element) {
                    element.value = value;
                }
            }
        }
        
        // Populate analysis results
        if (data.analysis_results) {
            for (const [requirementId, result] of Object.entries(data.analysis_results)) {
                displayAnalysisResult(requirementId, result);
            }
        }
    }
    
    function saveAudit() {
        const auditData = {
            cover_sheet: {},
            section1: {},
            section2: {},
            section3: {},
            job_audit: {},
            analysis_results: {}
        };
        
        // Gather cover sheet data
        const coverInputs = document.querySelectorAll('#cover input, #cover textarea, #cover select');
        coverInputs.forEach(input => {
            auditData.cover_sheet[input.name] = input.value;
        });
        
        // Gather evidence fields
        document.querySelectorAll('.evidence-textarea').forEach(textarea => {
            const requirementId = textarea.getAttribute('data-requirement-id');
            const sectionId = textarea.closest('.tab-pane').id;
            auditData[sectionId][textarea.name] = textarea.value;
            
            // Get analysis results if available
            const analysisCell = document.getElementById(`analysis_${requirementId.replace('.', '_')}`);
            if (analysisCell && analysisCell.querySelector('.analysis-result')) {
                const resultDiv = analysisCell.querySelector('.analysis-result');
                auditData.analysis_results[requirementId] = {
                    compliant: resultDiv.classList.contains('compliant'),
                    explanation: resultDiv.querySelector('p').textContent
                };
            }
        });
        
        // Gather job audit data
        const jobInputs = document.querySelectorAll('#jobaudit input, #jobaudit select');
        jobInputs.forEach(input => {
            if (!input.name.startsWith('evidence_')) {
                auditData.job_audit[input.name] = input.value;
            }
        });
        
        // Send data to server
        fetch('/audit/save', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(auditData)
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Audit saved successfully!');
                if (data.audit_id) {
                    // Update URL if this is a new audit
                    if (!window.location.href.includes('/audit/')) {
                        window.history.pushState({}, '', `/audit/${data.audit_id}`);
                    }
                }
            } else {
                alert('Error saving audit: ' + data.error);
            }
        })
        .catch(error => {
            alert('Error saving audit: ' + error);
        });
    }
    
    function analyzeRequirement(requirementId, evidence) {
        const requirementCell = document.querySelector(`td:has(strong:contains('${requirementId}'))`) || 
                              document.querySelector(`td:has([data-requirement-id="${requirementId}"])`);
        const requirement = requirementCell ? requirementCell.querySelector('p').textContent : '';
        const analysisCell = document.getElementById(`analysis_${requirementId.replace('.', '_')}`);
        
        if (!analysisCell) return;
        
        // Show loading state
        analysisCell.innerHTML = '<div class="text-center"><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div><p class="mt-2">Analyzing...</p></div>';
        
        // Send data to server for analysis
        fetch('/api/analyze', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                requirement: requirement,
                evidence: evidence,
                requirement_id: requirementId
            })
        })
        .then(response => response.json())
        .then(result => {
            displayAnalysisResult(requirementId, result);
        })
        .catch(error => {
            analysisCell.innerHTML = `<div class="alert alert-danger">Error analyzing requirement: ${error}</div>`;
        });
    }
    
    function displayAnalysisResult(requirementId, result) {
        const analysisCell = document.getElementById(`analysis_${requirementId.replace('.', '_')}`);
        if (!analysisCell) return;
        
        let complianceClass = '';
        let complianceText = '';
        
        if (result.compliant) {
            complianceClass = 'compliant';
            complianceText = '<span class="badge bg-success">Compliant</span>';
        } else {
            complianceClass = 'non-compliant';
            complianceText = '<span class="badge bg-danger">Non-Compliant</span>';
        }
        
        let confidenceLevel = '';
        if ('confidence' in result) {
            const confidence = result.confidence * 100;
            confidenceLevel = `<div class="small text-muted">Confidence: ${confidence.toFixed(1)}%</div>`;
        }
        
        analysisCell.innerHTML = `
            <div class="analysis-result ${complianceClass}">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div>${complianceText}</div>
                    <button type="button" class="btn btn-sm btn-outline-secondary analyze-btn" data-requirement-id="${requirementId}">
                        <i class="fas fa-redo-alt"></i>
                    </button>
                </div>
                <p>${result.explanation}</p>
                ${confidenceLevel}
            </div>
        `;
        
        // Reattach the event listener
        const button = analysisCell.querySelector('.analyze-btn');
        if (button) {
            button.addEventListener('click', function() {
                const evidenceTextarea = document.querySelector(`textarea[data-requirement-id="${requirementId}"]`);
                const evidence = evidenceTextarea.value.trim();
                
                if (evidence === '') {
                    alert('Please provide objective evidence before analyzing.');
                    return;
                }
                
                analyzeRequirement(requirementId, evidence);
            });
        }
    }
</script>
{% endblock %} 